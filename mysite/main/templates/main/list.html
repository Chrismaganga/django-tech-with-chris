{% extends "main/base.html" %}

{% block title %}{{ls.name}}{% endblock title %}

{% block content %}

  <div class="page list">
    <form method="post">
      {% csrf_token %}
      <div class="input-group input-group-lg">
        <input type="text" value="{{ls.name}}" name="listName" class="form-control border-0 border-bottom border-3 mb-3 list-title">
      </div>
      
      <input type="hidden" name="itemDelete" class="item-delete" value="">

        {% for item in ls.item_set.all %}
          <div class="input-group mb-3">
            <div class="input-group-text mb-0">
              {% if item.complete == True %}
                <input class="form-check-input mt-0" type="checkbox" name="{{item.id}}_c" value="checked" checked />
              {% else %}
                <input class="form-check-input mt-0" type="checkbox" name="{{item.id}}_c" value="checked" />
              {% endif %}
            </div>
            <input type="text" value="{{item.text}}" class="form-control {%if item.complete == True%}checked{% endif %}" name="{{item.id}}_t">
            <button type="button" value="{{item.id}}" class="btn btn-outline-danger item-delete">&times;</button>
          </div>
        {% endfor %}
      
      <div class="input-group">
        <input type="text" name="newText" class="form-control" />
        <button class="btn btn-success" type="submit" name="newItem" value="newItem">Add Item</button>
      </div>
      <hr class="mt-3">
      <div class="row mt-2">
        <div class="col-6 d-grid gap-2">
          <button class="btn btn-primary" type="submit" name="save" value="save">
            Update List
          </button>
        </div>
        <div class="col-6 d-grid gap-2">
        <button class="btn btn-danger" type="submit" name="listDelete" value="{{ls.id}}">
          Delete List
        </button>
        </div>
      </div>
    </form>
  </div>

{% endblock content %}